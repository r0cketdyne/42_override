#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define BUFFER_SIZE 128
#define USERNAME_SIZE 41

void secret_backdoor(void) {
    char buffer[BUFFER_SIZE];
    fgets(buffer, BUFFER_SIZE, stdin);
    system(buffer);
}

void set_msg(char *param_1) {
    char buffer[BUFFER_SIZE];
    puts(">: Msg @Unix-Dude");
    printf(">>: ");
    fgets(buffer, BUFFER_SIZE, stdin);
    strncpy(param_1, buffer, USERNAME_SIZE - 1);
}

void set_username(char *username) {
    char buffer[USERNAME_SIZE];
    puts(">: Enter your username");
    printf(">>: ");
    fgets(buffer, USERNAME_SIZE, stdin);
    strncpy(username, buffer, USERNAME_SIZE - 1);
    printf(">: Welcome, %s", username);
}

void handle_msg(void) {
    char buffer[USERNAME_SIZE];
    set_username(buffer);
    set_msg(buffer);
    puts(">: Msg sent!");
}

int main(void) {
    puts("--------------------------------------------\n|   ~Welcome to l33t-m$n ~    v1337       |\n--------------------------------------------");
    handle_msg();
    return 0;
}
